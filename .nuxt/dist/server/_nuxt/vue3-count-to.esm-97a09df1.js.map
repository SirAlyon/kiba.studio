{"version":3,"file":"vue3-count-to.esm-97a09df1.js","sources":["../../../../node_modules/vue-count-to/src/requestAnimationFrame.js","../../../../node_modules/vue-count-to/src/vue-countTo.vue","../../../../node_modules/vue3-count-to/dist/vue3-count-to.esm.js"],"sourcesContent":["let lastTime = 0\nconst prefixes = 'webkit moz ms o'.split(' ') // 各浏览器前缀\n\nlet requestAnimationFrame\nlet cancelAnimationFrame\n\nconst isServer = typeof window === 'undefined'\nif (isServer) {\n  requestAnimationFrame = function() {\n    return\n  }\n  cancelAnimationFrame = function() {\n    return\n  }\n} else {\n  requestAnimationFrame = window.requestAnimationFrame\n  cancelAnimationFrame = window.cancelAnimationFrame\n  let prefix\n    // 通过遍历各浏览器前缀，来得到requestAnimationFrame和cancelAnimationFrame在当前浏览器的实现形式\n  for (let i = 0; i < prefixes.length; i++) {\n    if (requestAnimationFrame && cancelAnimationFrame) { break }\n    prefix = prefixes[i]\n    requestAnimationFrame = requestAnimationFrame || window[prefix + 'RequestAnimationFrame']\n    cancelAnimationFrame = cancelAnimationFrame || window[prefix + 'CancelAnimationFrame'] || window[prefix + 'CancelRequestAnimationFrame']\n  }\n\n  // 如果当前浏览器不支持requestAnimationFrame和cancelAnimationFrame，则会退到setTimeout\n  if (!requestAnimationFrame || !cancelAnimationFrame) {\n    requestAnimationFrame = function(callback) {\n      const currTime = new Date().getTime()\n      // 为了使setTimteout的尽可能的接近每秒60帧的效果\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime))\n      const id = window.setTimeout(() => {\n        callback(currTime + timeToCall)\n      }, timeToCall)\n      lastTime = currTime + timeToCall\n      return id\n    }\n\n    cancelAnimationFrame = function(id) {\n      window.clearTimeout(id)\n    }\n  }\n}\n\nexport { requestAnimationFrame, cancelAnimationFrame }\n","<template>\n    <span>\n      {{displayValue}}\n    </span>\n</template>\n<script>\nimport { requestAnimationFrame, cancelAnimationFrame } from './requestAnimationFrame.js'\nexport default {\n  props: {\n    startVal: {\n      type: Number,\n      required: false,\n      default: 0\n    },\n    endVal: {\n      type: Number,\n      required: false,\n      default: 2017\n    },\n    duration: {\n      type: Number,\n      required: false,\n      default: 3000\n    },\n    autoplay: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    decimals: {\n      type: Number,\n      required: false,\n      default: 0,\n      validator(value) {\n        return value >= 0\n      }\n    },\n    decimal: {\n      type: String,\n      required: false,\n      default: '.'\n    },\n    separator: {\n      type: String,\n      required: false,\n      default: ','\n    },\n    prefix: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    suffix: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    useEasing: {\n      type: Boolean,\n      required: false,\n      default: true\n    },\n    easingFn: {\n      type: Function,\n      default(t, b, c, d) {\n        return c * (-Math.pow(2, -10 * t / d) + 1) * 1024 / 1023 + b;\n      }\n    }\n  },\n  data() {\n    return {\n      localStartVal: this.startVal,\n      displayValue: this.formatNumber(this.startVal),\n      printVal: null,\n      paused: false,\n      localDuration: this.duration,\n      startTime: null,\n      timestamp: null,\n      remaining: null,\n      rAF: null\n    };\n  },\n  computed: {\n    countDown() {\n      return this.startVal > this.endVal\n    }\n  },\n  watch: {\n    startVal() {\n      if (this.autoplay) {\n        this.start();\n      }\n    },\n    endVal() {\n      if (this.autoplay) {\n        this.start();\n      }\n    }\n  },\n  mounted() {\n    if (this.autoplay) {\n      this.start();\n    }\n    this.$emit('mountedCallback')\n  },\n  methods: {\n    start() {\n      this.localStartVal = this.startVal;\n      this.startTime = null;\n      this.localDuration = this.duration;\n      this.paused = false;\n      this.rAF = requestAnimationFrame(this.count);\n    },\n    pauseResume() {\n      if (this.paused) {\n        this.resume();\n        this.paused = false;\n      } else {\n        this.pause();\n        this.paused = true;\n      }\n    },\n    pause() {\n      cancelAnimationFrame(this.rAF);\n    },\n    resume() {\n      this.startTime = null;\n      this.localDuration = +this.remaining;\n      this.localStartVal = +this.printVal;\n      requestAnimationFrame(this.count);\n    },\n    reset() {\n      this.startTime = null;\n      cancelAnimationFrame(this.rAF);\n      this.displayValue = this.formatNumber(this.startVal);\n    },\n    count(timestamp) {\n      if (!this.startTime) this.startTime = timestamp;\n      this.timestamp = timestamp;\n      const progress = timestamp - this.startTime;\n      this.remaining = this.localDuration - progress;\n\n      if (this.useEasing) {\n        if (this.countDown) {\n          this.printVal = this.localStartVal - this.easingFn(progress, 0, this.localStartVal - this.endVal, this.localDuration)\n        } else {\n          this.printVal = this.easingFn(progress, this.localStartVal, this.endVal - this.localStartVal, this.localDuration);\n        }\n      } else {\n        if (this.countDown) {\n          this.printVal = this.localStartVal - ((this.localStartVal - this.endVal) * (progress / this.localDuration));\n        } else {\n          this.printVal = this.localStartVal + (this.endVal - this.localStartVal) * (progress / this.localDuration);\n        }\n      }\n      if (this.countDown) {\n        this.printVal = this.printVal < this.endVal ? this.endVal : this.printVal;\n      } else {\n        this.printVal = this.printVal > this.endVal ? this.endVal : this.printVal;\n      }\n\n      this.displayValue = this.formatNumber(this.printVal)\n      if (progress < this.localDuration) {\n        this.rAF = requestAnimationFrame(this.count);\n      } else {\n        this.$emit('callback');\n      }\n    },\n    isNumber(val) {\n      return !isNaN(parseFloat(val))\n    },\n    formatNumber(num) {\n      num = num.toFixed(this.decimals);\n      num += '';\n      const x = num.split('.');\n      let x1 = x[0];\n      const x2 = x.length > 1 ? this.decimal + x[1] : '';\n      const rgx = /(\\d+)(\\d{3})/;\n      if (this.separator && !this.isNumber(this.separator)) {\n        while (rgx.test(x1)) {\n          x1 = x1.replace(rgx, '$1' + this.separator + '$2');\n        }\n      }\n      return this.prefix + x1 + x2 + this.suffix;\n    }\n  },\n  destroyed() {\n    cancelAnimationFrame(this.rAF)\n  }\n};\n</script>\n","import Component from\"vue-count-to/src/vue-countTo.vue\";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}Component.unmounted=Component.destroyed,Reflect.deleteProperty(Component,\"destroyed\");var CountTo=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({name:\"CountTo\",emits:[\"callback\",\"mountedCallback\"]},Component);var index={install:function(app){app.component(\"count-to\",CountTo)},version:\"1.1.2\"};export default index;export{CountTo};\n//# sourceMappingURL=vue3-count-to.esm.js.map\n"],"names":[],"mappings":"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","x_google_ignoreList":[0,1,2]}